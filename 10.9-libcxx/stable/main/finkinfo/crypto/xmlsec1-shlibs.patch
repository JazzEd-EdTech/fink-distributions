diff -Nurd xmlsec1-1.2.28.orig/configure xmlsec1-1.2.28/configure
--- xmlsec1-1.2.28.orig/configure	2019-04-16 12:39:59.000000000 -0400
+++ xmlsec1-1.2.28/configure	2020-01-19 07:46:14.000000000 -0500
@@ -13670,6 +13670,8 @@
 	;;
  *-*-darwin*)
     XMLSEC_SHLIBSFX=".dylib"
+    XMLSEC_EXTRA_LDFLAGS="-no-undefined"
+    XMLSEC_CRYPTO_EXTRA_LDFLAGS="-no-undefined"
     ;;
 esac
 
diff -Nurd xmlsec1-1.2.28.orig/src/gnutls/Makefile.in xmlsec1-1.2.28/src/gnutls/Makefile.in
--- xmlsec1-1.2.28.orig/src/gnutls/Makefile.in	2019-04-16 12:39:54.000000000 -0400
+++ xmlsec1-1.2.28/src/gnutls/Makefile.in	2020-01-19 08:02:35.000000000 -0500
@@ -487,7 +487,7 @@
 
 # xmlsec-gnutls library requires xmlsec-gcrypt
 libxmlsec1_gnutls_la_LIBADD = \
-	$(GNUTLS_LIBS) \
+	$(GNUTLS_LIBS) $(GCRYPT_LIBS) \
 	$(LIBXSLT_LIBS) \
 	$(LIBXML_LIBS) \
 	../libxmlsec1.la \
