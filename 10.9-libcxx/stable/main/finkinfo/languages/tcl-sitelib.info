Package: tcl-sitelib
Version: 1
Revision: 1
Source: none
CompileScript: <<
	echo 'lappend auto_path $dir' > pkgIndex.tcl
<<
InstallScript: <<
	mkdir -p %i/lib/tcl-sitelib
	install -m 644 pkgIndex.tcl %i/lib/tcl-sitelib
<<
Maintainer: Daniel Macks <dmacks@netspace.org>
License: Public Domain
Description: Support lib/ subdir for tcl runtime packages
DescDetail: <<
The tcl interpretter usually looks in %p/lib and %p/lib/tclMAJOR.MINOR
for loading tcl packages at runtime. All direct subdirs of %p/lib are
also checked (%p/lib/foo not %p/lib/foo/bar), and other tcl
interpretters get access to all fink-packaged tcl packages simply by
adding %p/lib to their auto_path. That means a ton of modules (tcl
bundled, tk, and separately packaged) pile up in %p/lib.

Installing this fink package creates a %p/lib/tcl-sitelib directory
and triggers tcl to scan its direct subdirs as well. That means all
tcl packages can be accumulated in this subdir, helping to keep %p/lib
organized.
<<
DescUsage: <<
Fink packages that install tcl packages in %p/lib/tcl-sitelib must
have a runtime dependency on %n.
<<
DescPackaging: <<
By doing this via a separate fink package (rather than including it as
part of fink's tcltk package, or adding a hack to fink's tcl runtime
itself to check this subdir) we make it easier for other fink packages
to migrate to this system. Rather than needing a versioned dependency
on tcltk, one simply needs a dependency on this fink package, which
self-documents the support of this subdir.

Using the TCLLIBPATH env var (via fink's RuntimeVars) would also have
sufficed. However, the current implementation is not as
sensitive to shells with mis-configured dotfiles.
<<
