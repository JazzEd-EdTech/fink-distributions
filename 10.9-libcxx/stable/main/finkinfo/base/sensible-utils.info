Package: sensible-utils
Version: 0.0.14
Revision: 1
Essential: true
Maintainer: Fink Core Group <fink-core@lists.sourceforge.net>
BuildDepends: fink (>= 0.24.12-1)
Replaces: debianutils (<= 2.32.3)

CustomMirror: <<
	Primary: https://salsa.debian.org/debian/%n/-/archive/debian/%v/
	Secondary: https://downloads.sourceforge.net/fink/
<<
Source: mirror:custom:%n-debian-%v.tar.gz
Source-MD5: 61621ccf9b29c1249cdb17496dc613ab

PatchScript: <<
perl -pi -e 's,SUBDIRS = po4a,SUBDIRS = ,g' Makefile.in
perl -pi -e 's,Makefile po4a/Makefile po4a/de/Makefile po4a/es/Makefile po4a/fr/Makefile po4a/it/Makefile po4a/ja/Makefile po4a/pl/Makefile,Makefile,g' configure

perl -pi -e 's,/usr,%p,g' debian/mime
perl -pi -e 's,/usr,%p,g' sensible-browser
<<

ConfigureParams: --mandir=%p/share/man

CompileScript: <<
SENSIBLE_UTILS_VERSION="%v" ./configure %c
make
<<

InstallScript: <<
#!/bin/sh -ev

install -d -m 0755 %d/DEBIAN \
	           %i/bin \
	           %i/share/man/man1 \
	           %i/lib/mime/packages \
	           %i/share/doc/%n
make install DESTDIR=%d INSTALL_PROGRAM="install -m 0755"

install -m 0644 debian/mime %i/lib/mime/packages/sensible-utils
<<

PostInstScript: <<
if [ configure = "$1" ]; then
    if which update-mime >/dev/null;
    then
        update-mime
    fi
fi
<<

PostRmScript: <<
if [ remove = "$1" -o disappear = "$1" ]; then
    if which update-mime >/dev/null;
    then
        update-mime
    fi
fi
<<

DocFiles: debian/changelog debian/copyright
Description: Utilities for sensible alternative selection

DescDetail: <<
This package provides a number of small utilities which are used by programs
to sensibly select and spawn an appropriate browser, editor, or pager.
.
The specific utilities included are: sensible-browser sensible-editor
sensible-pager
<<

Homepage: http://packages.debian.org/unstable/sensible-utils
License: GPL
