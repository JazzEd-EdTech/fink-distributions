# -*- coding: ascii; tab-width: 4 -*-
Info2: <<

Package: nbconvert-py%type_pkg[python]
Version: 5.5.0
Revision: 1
Maintainer: Kurt Schwehr <goatbar@users.sourceforge.net>
License: BSD
Type: python (2.7 3.5 3.6 3.7)
Homepage: https://pypi.python.org/pypi/nbconvert
# https://pypi.python.org/packages/source/n/nbconvert/nbconvert-4.1.0.tar.gz#md5=58ee16f5da0dd2976ff992511d6bfb43
Source: https://files.pythonhosted.org/packages/source/n/nbconvert/nbconvert-%v.tar.gz
Source-Checksum: SHA256(138381baa41d83584459b5cfecfc38c800ccf1f37d9ddd0bd440783346a4c39c)

Depends: <<
  python%type_pkg[python]-shlibs,
  bleach-py%type_pkg[python],
  jinja2-py%type_pkg[python],
  ipython-genutils-py%type_pkg[python],
  traitlets-py%type_pkg[python],
  jupyter-core-py%type_pkg[python],
  jupyter-client-py%type_pkg[python],
  nbformat-py%type_pkg[python]
<<
BuildDepends: python%type_pkg[python], setuptools-tng-py%type_pkg[python]

Description: Converting Jupyter Notebooks

DescDetail: <<
jupyter nbconvert converts (ipython) notebooks to various other
formats via Jinja templates.
<<

CompileScript: true
InstallScript: <<
  #!/bin/bash -ev
  %p/bin/python%type_raw[python] setup.py install --root=%d
  for file in %i/bin/*; do
    echo mv ${file}{,-py%type_pkg[python]}
    mv ${file}{,-py%type_pkg[python]}
  done
<<

PostInstScript: <<
  # Remove the old if they exist
  update-alternatives --auto jupyter-nbconvert

  # Now the new setup
  update-alternatives --install %p/bin/jupyter-nbconvert jupyter-nbconvert %p/bin/jupyter-nbconvert-py%type_pkg[python] %type_pkg[python]
  echo "The script 'jupyter-nbconvert' installed in %p/bin/ is a symlink"
  echo "automatically updated by the update-alternatives utility."
  echo "If you install multiple flavours of nbconvert, the symlink"
  echo "will point to the higher flavour by default."
  echo "You can inspect the links by running:"
  echo "  update-alternatives --list jupyter-nbconvert"
  echo "  update-alternatives --display jupyter-nbconvert"
<<

PreRmScript: <<
  if [ $1 != "upgrade" ]; then
     update-alternatives --verbose --remove jupyter-nbconvert %p/bin/jupyter-nbconvert-py%type_pkg[python]
  else
    echo "Do not remove during upgrade"
  fi
<<

# Info2
<<
